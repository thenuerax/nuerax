<!DOCTYPE html>
<html lang="en" class="bg-[#0F1115] text-[#F5F7FA] scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nuerax — Real-Time AI News</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@2.9.3/tsparticles.bundle.min.js"></script>
    <style>
      body {
        background-color: #0F1115;
        background-image: radial-gradient(circle at 20% 20%, rgba(0, 255, 255, 0.05) 0%, transparent 70%),
                          radial-gradient(circle at 80% 40%, rgba(255, 0, 255, 0.05) 0%, transparent 70%);
      }
      .fade-in {
        opacity: 0;
        transform: translateY(20px);
        animation: fadeIn 1s ease forwards;
      }
      @keyframes fadeIn {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body class="font-sans leading-relaxed text-base antialiased">

    <!-- Particle Background -->
    <div id="tsparticles" class="fixed top-0 left-0 w-full h-full z-0 pointer-events-none"></div>

    <!-- Top Right Login/Logout -->
    <div class="fixed top-4 right-6 z-50">
      <span id="welcomeText" class="mr-4 hidden text-sm text-cyan-400"></span>
      <button id="authButton" class="bg-[#00FFFF] text-black px-4 py-2 rounded-lg font-semibold shadow hover:scale-105 transition">
        Log in
      </button>
    </div>

    <!-- Auth Modal -->
    <div id="authModal" class="fixed z-50 inset-0 bg-black/70 flex items-center justify-center hidden">
      <div class="bg-[#1A1D21] p-8 rounded-xl w-full max-w-sm shadow-xl relative">
        <h2 class="text-xl font-semibold mb-4">Login or Sign Up</h2>
        <input id="emailInput" type="email" placeholder="Email" class="w-full mb-3 p-2 rounded bg-[#2A2D31] text-white placeholder-[#aaa]">
        <input id="passwordInput" type="password" placeholder="Password" class="w-full mb-4 p-2 rounded bg-[#2A2D31] text-white placeholder-[#aaa]">
        <button id="submitAuth" class="w-full bg-[#00FFFF] text-black py-2 rounded font-semibold">Submit</button>
        <button id="closeModal" class="absolute top-2 right-3 text-white">&times;</button>
      </div>
    </div>

    <!-- Hero Section -->
    <section class="relative z-10 flex flex-col items-center text-center mt-24 px-4 fade-in">
      <h1 class="text-5xl font-bold mb-4 tracking-tight bg-gradient-to-r from-cyan-400 via-fuchsia-500 to-pink-500 bg-clip-text text-transparent">
        The future is moving fast.<br />So are we.
      </h1>
      <p class="text-[#A1A6AD] max-w-xl mb-8">
        Real-time AI news, insights, and stock market impact — curated for the next generation.
      </p>
      <a href="#feed" class="bg-gradient-to-br from-cyan-400 to-fuchsia-500 text-black font-medium px-6 py-3 rounded-xl shadow-lg hover:scale-105 transform transition duration-300">
        Start Exploring →
      </a>
    </section>

    <!-- Search Bar -->
    <div class="relative z-10 mt-20 mb-10 px-6 fade-in flex justify-center">
      <input id="searchInput" type="text" placeholder="Search company (e.g. OpenAI)"
        class="w-full max-w-xl bg-[#1A1D21]/70 backdrop-blur-lg text-white placeholder-[#A1A6AD] px-5 py-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-400 transition shadow-lg">
    </div>

    <!-- News Feed -->
    <section id="feed" class="relative z-10 w-full max-w-5xl mx-auto px-4 fade-in">
      <div id="news-container">
        <p class="text-[#A1A6AD]">Loading news...</p>
      </div>
    </section>

    <!-- Script -->
    <script>
      const supabase = createClient(
        'https://qiiozzvsfpnhoxaamftf.supabase.co',
        'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFpaW96enZzZnBuaG94YWFtZnRmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ2NTYzNzMsImV4cCI6MjA2MDIzMjM3M30.yp8z9dWlQV4cmHrU4tLyT7x90_Sl_qvuQM1jokSP7Qw'
      );

      // Auth Modal Logic
      const authModal = document.getElementById('authModal');
      const authButton = document.getElementById('authButton');
      const welcomeText = document.getElementById('welcomeText');
      const closeModal = document.getElementById('closeModal');

      authButton.addEventListener('click', () => {
        if (authButton.innerText === 'Log out') {
          supabase.auth.signOut();
          authButton.innerText = 'Log in';
          welcomeText.innerText = '';
          welcomeText.classList.add('hidden');
        } else {
          authModal.classList.remove('hidden');
        }
      });

      closeModal.onclick = () => authModal.classList.add('hidden');

      document.getElementById('submitAuth').onclick = async () => {
        const email = document.getElementById('emailInput').value;
        const password = document.getElementById('passwordInput').value;
        const { error } = await supabase.auth.signInWithPassword({ email, password });

        if (error) {
          // If login fails, try sign up
          const { error: signupError } = await supabase.auth.signUp({ email, password });
          if (signupError) alert('Login/Signup failed');
        } else {
          authModal.classList.add('hidden');
          checkSession();
        }
      };

      async function checkSession() {
        const { data: { session } } = await supabase.auth.getSession();
        if (session?.user) {
          authButton.innerText = 'Log out';
          welcomeText.innerText = `Welcome, ${session.user.email}`;
          welcomeText.classList.remove('hidden');
        }
      }

      checkSession();

      // Particle background
      tsParticles.load("tsparticles", {
        fullScreen: { enable: false },
        particles: {
          number: { value: 40 },
          size: { value: 2 },
          move: { enable: true, speed: 0.3 },
          color: { value: "#00FFFF" },
          links: { enable: true, color: "#00FFFF", distance: 130 }
        },
        interactivity: { events: { onhover: { enable: false } } },
        background: { color: "#0F1115" }
      });

      // Your existing search + news fetch can go below here
    </script>
  </body>
</html>
