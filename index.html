<!DOCTYPE html>
<html lang="en" class="bg-[#0F1115] text-[#F5F7FA] scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nuerax ‚Äî Real-Time AI News</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@2.11.1/tsparticles.bundle.min.js"></script>
    <style>
      body {
        background-color: #0F1115;
        background-image: radial-gradient(circle at 20% 20%, rgba(0, 255, 255, 0.05) 0%, transparent 70%),
                          radial-gradient(circle at 80% 40%, rgba(255, 0, 255, 0.05) 0%, transparent 70%);
      }
      .fade-in {
        opacity: 0;
        transform: translateY(20px);
        animation: fadeIn 1s ease forwards;
      }
      @keyframes fadeIn {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body class="font-sans leading-relaxed text-base antialiased">

    <!-- Particle Background -->
    <div id="tsparticles" class="fixed top-0 left-0 w-full h-full z-0 pointer-events-none"></div>

    <!-- Header -->
    <div class="flex justify-between items-center px-6 py-4 relative z-10">
      <span class="text-2xl font-bold tracking-tight text-white">Nuerax</span>
      <div class="flex items-center space-x-4">
        <button id="searchBtn" class="text-white hover:text-cyan-400 transition">
          üîç
        </button>
        <button id="loginBtn" class="text-[#00FFFF] border border-[#00FFFF] px-4 py-1 rounded hover:bg-[#00FFFF] hover:text-black transition">
          Log In
        </button>
      </div>
    </div>

    <!-- Hero Section -->
    <section class="relative z-10 flex flex-col items-center text-center mt-24 px-4 fade-in">
      <h1 class="text-5xl font-semibold mb-4 tracking-tight text-white">
        Stay ahead of the curve<br />with real-time AI insight.
      </h1>
      <p class="text-[#A1A6AD] max-w-xl mb-10">
        Follow the latest breakthroughs and see how innovation shapes the future of tech and business.
      </p>
      <a href="#feed" class="text-[#00FFFF] hover:underline font-medium text-base">
        Explore the feed ‚Üì
      </a>
    </section>

    <!-- News Feed -->
    <section id="feed" class="relative z-10 w-full max-w-5xl mx-auto px-4 fade-in mt-16">
      <div id="news-container">
        <p class="text-[#A1A6AD]">Loading news...</p>
      </div>
    </section>

    <!-- Particle Script -->
    <script>
      tsParticles.load("tsparticles", {
        fullScreen: { enable: false },
        background: { color: "#0F1115" },
        particles: {
          number: { value: 50, density: { enable: true, value_area: 800 } },
          color: { value: "#00FFFF" },
          shape: { type: "circle" },
          opacity: { value: 0.3 },
          size: { value: 2 },
          links: {
            enable: true,
            distance: 130,
            color: "#00FFFF",
            opacity: 0.2,
            width: 1
          },
          move: {
            enable: true,
            speed: 0.5,
            direction: "none",
            outModes: { default: "bounce" }
          }
        },
        interactivity: {
          events: {
            onHover: { enable: true, mode: "grab" },
            resize: true
          },
          modes: {
            grab: {
              distance: 140,
              links: { opacity: 0.3 }
            }
          }
        },
        detectRetina: true
      });
    </script>

    <!-- News Logic -->
    <script>
      const newsContainer = document.getElementById('news-container');

      const companyLogos = {
        openai: "https://upload.wikimedia.org/wikipedia/commons/0/04/OpenAI_Logo.svg",
        meta: "https://upload.wikimedia.org/wikipedia/commons/0/05/Meta_Platforms_Logo.svg",
        google: "https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg",
        nvidia: "https://upload.wikimedia.org/wikipedia/en/2/21/Nvidia_logo.svg",
        microsoft: "https://upload.wikimedia.org/wikipedia/commons/4/44/Microsoft_logo.svg",
        tesla: "https://upload.wikimedia.org/wikipedia/commons/b/bd/Tesla_Motors.svg",
        apple: "https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg",
        anthropic: "https://avatars.githubusercontent.com/u/110651149?s=200&v=4",
        palantir: "https://upload.wikimedia.org/wikipedia/commons/6/68/Palantir_Technologies_logo.svg",
      };

      function getLogo(name) {
        const key = name.toLowerCase();
        return companyLogos[key] || companyLogos["openai"];
      }

      function getHoursAgo(dateString) {
        const hours = Math.floor((Date.now() - new Date(dateString)) / (1000 * 60 * 60));
        return hours < 1 ? "Just now" : `${hours} hour${hours !== 1 ? "s" : ""} ago`;
      }

      function isAIArticle(article) {
        const keywords = ["ai", "artificial intelligence", "robot", "machine learning", "deep learning"];
        const content = `${article.title} ${article.description}`.toLowerCase();
        return keywords.some(k => content.includes(k));
      }

      async function fetchNews(query = "ai") {
        const res = await fetch(`/api/news?company=${encodeURIComponent(query)}`);
        const articles = await res.json();
        const filtered = articles.filter(isAIArticle);
        newsContainer.innerHTML = "";

        filtered.forEach(article => {
          const logoUrl = getLogo(query);
          const timeAgo = getHoursAgo(article.publishedAt);
          const card = document.createElement("div");
          card.className = "flex bg-[#1A1D21] rounded-xl overflow-hidden mb-6 shadow-lg hover:shadow-cyan-500/10 transition";

          card.innerHTML = `
            <div class="flex-shrink-0 bg-[#0F1115] p-4 flex items-center justify-center w-32 h-32">
              <img src="${logoUrl}" alt="logo" class="max-h-16 max-w-16 object-contain" />
            </div>
            <div class="p-5 flex flex-col justify-between">
              <div class="text-sm text-[#A1A6AD] mb-1">${timeAgo} ‚Ä¢ ${article.source.name}</div>
              <h3 class="text-lg font-semibold text-[#F5F7FA] mb-2">${article.title}</h3>
              <p class="text-[#A1A6AD] text-sm mb-3">${article.description || ''}</p>
              <a href="${article.url}" target="_blank" class="text-[#00FFFF] text-sm underline">Read full article ‚Üí</a>
            </div>
          `;

          newsContainer.appendChild(card);
        });
      }

      document.getElementById("searchBtn").addEventListener("click", () => {
        const query = prompt("Search company:");
        if (query) fetchNews(query);
      });

      fetchNews();
    </script>
  </body>
</html>
